(function (global, factory) {
	typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
	typeof define === 'function' && define.amd ? define(factory) :
	(global.promisifyDOMSelector = factory());
}(this, (function () { 'use strict';

function isArrayLike(a){return Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection}

function promisifyDOMSelector(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:document;return function(c){return new Promise(function(d){var e=a.call(b,c);if(e||isArrayLike(e)&&0<e.length)return d(e);var f=new MutationObserver(function(e,f){var g=a.call(b,c);!g||isArrayLike(g)&&0===g.length||(f.disconnect(),d(g));});f.observe(b===document?document.body:b,{childList:!0,subtree:!0});})}}

return promisifyDOMSelector;

})));
